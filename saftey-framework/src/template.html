<!DOCTYPE html>
<html lang="{{lang}}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{title}}</title>
  <meta name="description" content="{{meta_description}}">

  <!-- Open Graph / Social -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://safety-framework.fawltea.net/{{lang}}/">
  <meta property="og:title" content="{{title}}">
  <meta property="og:description" content="{{og_description}}">
  <meta property="og:image" content="https://safety-framework.fawltea.net/og-image.png">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://safety-framework.fawltea.net/{{lang}}/">
  <meta name="twitter:title" content="{{title}}">
  <meta name="twitter:description" content="{{og_description}}">
  <meta name="twitter:image" content="https://safety-framework.fawltea.net/og-image.png">

  <!-- Hreflang -->
  <link rel="alternate" hreflang="en" href="https://safety-framework.fawltea.net/en/">
  <link rel="alternate" hreflang="zh" href="https://safety-framework.fawltea.net/zh/">
  <link rel="alternate" hreflang="ja" href="https://safety-framework.fawltea.net/ja/">
  <link rel="alternate" hreflang="x-default" href="https://safety-framework.fawltea.net/">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üõ°Ô∏è</text></svg>">

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        }
      }
    }
  </script>
  <script>
    if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark')
    }
    function toggleDarkMode() {
      document.documentElement.classList.toggle('dark')
      localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light'
    }
    function expandAnchorDetails() {
      const hash = window.location.hash
      if (hash) {
        const target = document.querySelector(hash)
        if (target) {
          const details = target.querySelector('details')
          if (details) details.open = true
        }
      }
    }
    function setLanguage(lang) {
      localStorage.setItem('preferredLanguage', lang)
    }
    window.addEventListener('DOMContentLoaded', function() {
      expandAnchorDetails()
      setLanguage('{{lang}}')
    })
    window.addEventListener('hashchange', expandAnchorDetails)
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Print styles -->
  <style>
    @media print {
      body { background: white !important; color: black !important; }
      .dark\:bg-zinc-900 { background: white !important; }
      button, footer { display: none !important; }
      details { display: block !important; }
      details[open] summary { display: none !important; }
      details > ul { display: block !important; margin-top: 0.5rem !important; }
      article { break-inside: avoid; border-color: #ccc !important; }
      a { color: inherit !important; text-decoration: none !important; }
      .lg\:sticky { position: static !important; }
    }
  </style>
</head>
<body class="bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 font-sans antialiased">

  <!-- Main Content -->
  <div class="max-w-6xl mx-auto px-6 py-10 md:py-16">
    <div class="lg:grid lg:grid-cols-12 lg:gap-12">

      <!-- Left Column - Header & Intro (sticky on desktop) -->
      <aside class="lg:col-span-4 mb-10 lg:mb-0">
        <div class="lg:sticky lg:top-10 max-w-md lg:max-w-none">
          <h1 class="text-2xl md:text-3xl font-bold tracking-tight mb-4">{{title}}</h1>
          <p class="text-base text-zinc-500 mb-6">{{subtitle}}</p>
          <p class="text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed mb-4">
            {{intro_p1}}
          </p>
          <p class="text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed mb-4">
            {{intro_p2}}
          </p>
          <p class="text-xs text-zinc-500 dark:text-zinc-500 leading-relaxed mt-8">
            <span class="font-medium">{{how_to_use_label}}</span> {{how_to_use}}
          </p>
          <div class="mt-6 flex items-center gap-4">
            <button onclick="toggleDarkMode()" class="text-zinc-400 hover:text-zinc-600 dark:text-zinc-500 dark:hover:text-zinc-300" aria-label="Toggle dark mode">
              <svg class="w-5 h-5 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
              <svg class="w-5 h-5 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
            </button>
            <!-- Language switcher -->
            <div class="relative inline-block">
              <select onchange="if(this.value){localStorage.setItem('preferredLanguage',this.value);window.location.href='/'+this.value+'/'}" class="text-sm text-zinc-500 dark:text-zinc-400 bg-white dark:bg-zinc-800 border-none cursor-pointer hover:text-zinc-700 dark:hover:text-zinc-200 focus:outline-none pl-2 py-1 pr-7 rounded appearance-none">
                <option value="en" {{#en_selected}}selected{{/en_selected}} class="bg-white dark:bg-zinc-800 text-zinc-700 dark:text-zinc-200">English</option>
                <option value="zh" {{#zh_selected}}selected{{/zh_selected}} class="bg-white dark:bg-zinc-800 text-zinc-700 dark:text-zinc-200">‰∏≠Êñá</option>
                <option value="ja" {{#ja_selected}}selected{{/ja_selected}} class="bg-white dark:bg-zinc-800 text-zinc-700 dark:text-zinc-200">Êó•Êú¨Ë™û</option>
              </select>
              <svg class="pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </div>
          </div>
        </div>
      </aside>

      <!-- Right Column - Level Cards -->
      <main class="lg:col-span-8 space-y-4">

        <!-- Scale indicator -->
        <div class="flex items-center justify-between text-xs text-zinc-400 dark:text-zinc-500 mb-2 px-1">
          <span>{{scale_least}}</span>
          <div class="flex-1 mx-4 flex items-center gap-1">
            <div class="h-1 flex-1 rounded-full bg-gradient-to-r from-red-200 via-amber-200 to-sky-200 dark:from-red-800 dark:via-amber-800 dark:to-sky-800"></div>
          </div>
          <span>{{scale_most}}</span>
        </div>

        <!-- Level 0 -->
        <article id="level-0" class="rounded-lg border border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-800/50 p-5 scroll-mt-4">
          <div class="flex items-start gap-4">
            <a href="#level-0" class="flex-shrink-0 w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/50 flex items-center justify-center hover:ring-2 hover:ring-red-300 dark:hover:ring-red-700 transition-shadow">
              <span class="text-lg font-bold text-red-600 dark:text-red-400">0</span>
            </a>
            <div class="flex-1 min-w-0">
              <h2 class="text-base font-semibold text-zinc-900 dark:text-zinc-100 mb-2">{{level_0_name}}</h2>
              <p class="text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed">{{level_0_description}}</p>
              <details class="mt-3">
                <summary class="text-sm text-zinc-400 dark:text-zinc-500 cursor-pointer hover:text-zinc-600 dark:hover:text-zinc-300 select-none">{{examples_label}}</summary>
                <ul class="mt-3 ml-4 space-y-3 list-none">
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_0_example_1}}</span></li>
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_0_example_2}}</span></li>
                </ul>
              </details>
            </div>
          </div>
        </article>

        <!-- Level 1 -->
        <article id="level-1" class="rounded-lg border border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-800/50 p-5 scroll-mt-4">
          <div class="flex items-start gap-4">
            <a href="#level-1" class="flex-shrink-0 w-10 h-10 rounded-full bg-orange-100 dark:bg-orange-900/50 flex items-center justify-center hover:ring-2 hover:ring-orange-300 dark:hover:ring-orange-700 transition-shadow">
              <span class="text-lg font-bold text-orange-600 dark:text-orange-400">1</span>
            </a>
            <div class="flex-1 min-w-0">
              <h2 class="text-base font-semibold text-zinc-900 dark:text-zinc-100 mb-2">{{level_1_name}}</h2>
              <p class="text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed">{{level_1_description}}</p>
              <details class="mt-3">
                <summary class="text-sm text-zinc-400 dark:text-zinc-500 cursor-pointer hover:text-zinc-600 dark:hover:text-zinc-300 select-none">{{examples_label}}</summary>
                <ul class="mt-3 ml-4 space-y-3 list-none">
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_1_example_1}}</span></li>
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_1_example_2}}</span></li>
                </ul>
              </details>
            </div>
          </div>
        </article>

        <!-- Level 2 -->
        <article id="level-2" class="rounded-lg border border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-800/50 p-5 scroll-mt-4">
          <div class="flex items-start gap-4">
            <a href="#level-2" class="flex-shrink-0 w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center hover:ring-2 hover:ring-amber-300 dark:hover:ring-amber-700 transition-shadow">
              <span class="text-lg font-bold text-amber-600 dark:text-amber-400">2</span>
            </a>
            <div class="flex-1 min-w-0">
              <h2 class="text-base font-semibold text-zinc-900 dark:text-zinc-100 mb-2">{{level_2_name}}</h2>
              <p class="text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed">{{level_2_description}}</p>
              <details class="mt-3">
                <summary class="text-sm text-zinc-400 dark:text-zinc-500 cursor-pointer hover:text-zinc-600 dark:hover:text-zinc-300 select-none">{{examples_label}}</summary>
                <ul class="mt-3 ml-4 space-y-3 list-none">
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_2_example_1}}</span></li>
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_2_example_2}}</span></li>
                </ul>
              </details>
            </div>
          </div>
        </article>

        <!-- Level 3 -->
        <article id="level-3" class="rounded-lg border border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-800/50 p-5 scroll-mt-4">
          <div class="flex items-start gap-4">
            <a href="#level-3" class="flex-shrink-0 w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/50 flex items-center justify-center hover:ring-2 hover:ring-emerald-300 dark:hover:ring-emerald-700 transition-shadow">
              <span class="text-lg font-bold text-emerald-600 dark:text-emerald-400">3</span>
            </a>
            <div class="flex-1 min-w-0">
              <h2 class="text-base font-semibold text-zinc-900 dark:text-zinc-100 mb-2">{{level_3_name}}</h2>
              <p class="text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed">{{level_3_description}}</p>
              <details class="mt-3">
                <summary class="text-sm text-zinc-400 dark:text-zinc-500 cursor-pointer hover:text-zinc-600 dark:hover:text-zinc-300 select-none">{{examples_label}}</summary>
                <ul class="mt-3 ml-4 space-y-3 list-none">
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_3_example_1}}</span></li>
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_3_example_2}}</span></li>
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_3_example_3}}</span></li>
                </ul>
              </details>
            </div>
          </div>
        </article>

        <!-- Level 4 -->
        <article id="level-4" class="rounded-lg border border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-800/50 p-5 scroll-mt-4">
          <div class="flex items-start gap-4">
            <a href="#level-4" class="flex-shrink-0 w-10 h-10 rounded-full bg-teal-100 dark:bg-teal-900/50 flex items-center justify-center hover:ring-2 hover:ring-teal-300 dark:hover:ring-teal-700 transition-shadow">
              <span class="text-lg font-bold text-teal-600 dark:text-teal-400">4</span>
            </a>
            <div class="flex-1 min-w-0">
              <h2 class="text-base font-semibold text-zinc-900 dark:text-zinc-100 mb-2">{{level_4_name}}</h2>
              <p class="text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed">{{level_4_description}}</p>
              <details class="mt-3">
                <summary class="text-sm text-zinc-400 dark:text-zinc-500 cursor-pointer hover:text-zinc-600 dark:hover:text-zinc-300 select-none">{{examples_label}}</summary>
                <ul class="mt-3 ml-4 space-y-3 list-none">
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_4_example_1}}</span></li>
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_4_example_2}}</span></li>
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_4_example_3}}</span></li>
                </ul>
              </details>
            </div>
          </div>
        </article>

        <!-- Level 5 -->
        <article id="level-5" class="rounded-lg border border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-800/50 p-5 scroll-mt-4">
          <div class="flex items-start gap-4">
            <a href="#level-5" class="flex-shrink-0 w-10 h-10 rounded-full bg-sky-100 dark:bg-sky-900/50 flex items-center justify-center hover:ring-2 hover:ring-sky-300 dark:hover:ring-sky-700 transition-shadow">
              <span class="text-lg font-bold text-sky-600 dark:text-sky-400">5</span>
            </a>
            <div class="flex-1 min-w-0">
              <h2 class="text-base font-semibold text-zinc-900 dark:text-zinc-100 mb-2">{{level_5_name}}</h2>
              <p class="text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed">{{level_5_description}}</p>
              <details class="mt-3">
                <summary class="text-sm text-zinc-400 dark:text-zinc-500 cursor-pointer hover:text-zinc-600 dark:hover:text-zinc-300 select-none">{{examples_label}}</summary>
                <ul class="mt-3 ml-4 space-y-3 list-none">
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_5_example_1}}</span></li>
                  <li class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed flex"><span class="text-zinc-400 dark:text-zinc-500 mr-2 shrink-0">‚Äì</span><span>{{level_5_example_2}}</span></li>
                </ul>
              </details>
            </div>
          </div>
        </article>

      </main>
    </div>

    <!-- Quick Reference Table -->
    <section class="mt-12 lg:mt-16">
      <h2 class="text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-4">{{quick_reference_title}}</h2>
      <div class="overflow-x-auto">
        <table class="w-full text-sm border border-zinc-200 dark:border-zinc-700 rounded-lg overflow-hidden">
          <thead class="bg-zinc-100 dark:bg-zinc-800">
            <tr>
              <th class="px-3 py-2 text-left font-medium text-zinc-700 dark:text-zinc-300">{{table_header_level}}</th>
              <th class="px-3 py-2 text-left font-medium text-zinc-700 dark:text-zinc-300">{{table_header_name}}</th>
              <th class="px-3 py-2 text-left font-medium text-zinc-700 dark:text-zinc-300">{{table_header_description}}</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-zinc-200 dark:divide-zinc-700">
            <tr class="bg-white dark:bg-zinc-900">
              <td class="px-3 py-2"><span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400 text-xs font-bold">0</span></td>
              <td class="px-3 py-2 text-zinc-900 dark:text-zinc-100 whitespace-nowrap">{{level_0_name}}</td>
              <td class="px-3 py-2 text-zinc-600 dark:text-zinc-400">{{table_level_0}}</td>
            </tr>
            <tr class="bg-zinc-50 dark:bg-zinc-800/50">
              <td class="px-3 py-2"><span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-orange-100 dark:bg-orange-900/50 text-orange-600 dark:text-orange-400 text-xs font-bold">1</span></td>
              <td class="px-3 py-2 text-zinc-900 dark:text-zinc-100 whitespace-nowrap">{{level_1_name}}</td>
              <td class="px-3 py-2 text-zinc-600 dark:text-zinc-400">{{table_level_1}}</td>
            </tr>
            <tr class="bg-white dark:bg-zinc-900">
              <td class="px-3 py-2"><span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400 text-xs font-bold">2</span></td>
              <td class="px-3 py-2 text-zinc-900 dark:text-zinc-100 whitespace-nowrap">{{level_2_name}}</td>
              <td class="px-3 py-2 text-zinc-600 dark:text-zinc-400">{{table_level_2}}</td>
            </tr>
            <tr class="bg-zinc-50 dark:bg-zinc-800/50">
              <td class="px-3 py-2"><span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-emerald-100 dark:bg-emerald-900/50 text-emerald-600 dark:text-emerald-400 text-xs font-bold">3</span></td>
              <td class="px-3 py-2 text-zinc-900 dark:text-zinc-100 whitespace-nowrap">{{level_3_name}}</td>
              <td class="px-3 py-2 text-zinc-600 dark:text-zinc-400">{{table_level_3}}</td>
            </tr>
            <tr class="bg-white dark:bg-zinc-900">
              <td class="px-3 py-2"><span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-teal-100 dark:bg-teal-900/50 text-teal-600 dark:text-teal-400 text-xs font-bold">4</span></td>
              <td class="px-3 py-2 text-zinc-900 dark:text-zinc-100 whitespace-nowrap">{{level_4_name}}</td>
              <td class="px-3 py-2 text-zinc-600 dark:text-zinc-400">{{table_level_4}}</td>
            </tr>
            <tr class="bg-zinc-50 dark:bg-zinc-800/50">
              <td class="px-3 py-2"><span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-sky-100 dark:bg-sky-900/50 text-sky-600 dark:text-sky-400 text-xs font-bold">5</span></td>
              <td class="px-3 py-2 text-zinc-900 dark:text-zinc-100 whitespace-nowrap">{{level_5_name}}</td>
              <td class="px-3 py-2 text-zinc-600 dark:text-zinc-400">{{table_level_5}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </div>

  <footer class="mt-16 border-t border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-800">
    <div class="max-w-6xl mx-auto px-6 py-8">
      <p class="text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed text-center">
        {{footer}}
      </p>
    </div>
  </footer>

</body>
</html>
